05201002    今井航一

init_acpi_pm_timer関数ではポインタをたどってレジスタのアドレスを探し、pm_timer_blkに格納する。
どの型のポインタとして宣言するかにより、次のアドレスにアクセスしようとして1を加えたときの挙動が異なり、int型であれば4バイトであるため4バイト分進み、char型であれば1バイト分進むということを理解した。自分の実装ではint型を用いて4バイト単位でアドレスへのアクセスを行っている。

pm_timer_wait_milisec関数ではacpi pm timerを用いて引数のmsecミリ秒waitする。msecミリ秒中にカウンタはfreq_hz*msec/1000回インクリメントしているはずなのでこれを変数inclimentに保存し、while文で何度もカウンタにアクセスして前回のアクセスからの差分を積み重ね、この合計がinclimentを上回った際に解除することとしている。inclimentに値を保存する際にオーバーフローに注意し、freq_hzをlong long型にキャストしてlong long型のinclimentに保存した。
